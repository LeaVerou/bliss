<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<title>Bliss.js — Documentation</title>
<link rel="shortcut icon" href="style/twitter-avatar.png" />
<link rel="stylesheet" href="style/prism.css" />
<link rel="stylesheet" href="style/style.css" />
<link rel="stylesheet" href="style/docs.css" />

</head>
<body class="language-javascript" id="docs">

<header>
	<h1>Bliss</h1>
	<p>Heavenly JavaScript</p>
</header>

<nav id="toc">
	<h1>Contents</h1>
	<ol></ol>
</nav>

<section id="basics">
	<h1>Overview</h1>

	<p>Bliss includes several static methods (on the <code>Bliss</code> or <code>$</code> object). For example, to copy all properties of an object onto another object, you would call <a href="$.extend"><code>$.extend()</code></a>:</p>

	<pre><code>var yolo = $.extend({foo: 1}, {bar: 2}); // or Bliss.extend(…)
// yolo is {foo: 1, bar: 2}</code></pre>

	<p>Many of Bliss’ methods take an element or an array of elements as their first argument. For example, to set both the <code>width</code> and <code>padding</code> of an element to 0, you could use the <a href="#$.style"><code>$.style()</code></a> method:</p>

	<pre><code>$.style(element, {width: 0, padding: 0});</code></pre>

	<p>These types of methods are also available on elements and arrays, for convenience. However, since adding convenience methods to elements and arrays directly would be a JS Mortal Sin™, Bliss only <a href="http://lea.verou.me/2015/04/idea-extending-native-dom-prototypes-without-collisions">adds a <code>_</code> property on elements &amp; arrays</a>, on which it hangs all its methods, to avoid conflicts. The previous example would be written as:</p>

	<pre><code>element._.style({
	"width": 0, 
	"padding": 0
});</code></pre>

	<aside><p>The <code>._.</code> sequence of characters that appears all too often when coding with Bliss is where Bliss gets its logo from. However, <a href="#configuration">the property can be customized to anything you want</a>.</p></aside>

	<p>Methods that are available on elements like this will have an <a class="tag element">Element</a> tag in these docs.</p>

	<p>If you wanted to set the width and padding of multiple elements to 0, you could use an array:</p>

	<pre><code>myArray._.style({
	"width": 0, 
	"padding": 0
});</code></pre>

	<p>Methods that are available on arrays like this will have an <a class="tag array">Array</a> tag in these docs.</p>

	<p>For example, assume that in addition to these CSS changes you also wanted to add a <code>hidden</code> attribute to this element. Bliss methods that don’t return a value return the element or array they are called on, so you could call more element methods on them, including native ones:</p>

	<pre><code>element._.style({
	"width": 0, 
	"padding": 0
}).setAttribute("hidden", "");</code></pre>

	<p>Now assume you also wanted to set a second attribute: The "class" attribute to "foo". The native <code>setAttribute()</code> method is not chainable, it returns <code>undefined</code>. However, all native element methods are also available on the almighty <code>_</code> property, and there they are also chainable:</p>

	<pre><code>element._.style({
	"width": 0, 
	"padding": 0
})._.setAttribute("hidden", "").setAttribute("class", "foo");</code></pre>

	<p>This works, but it’s a bit unwieldy. Thankfully, Bliss offers an <code>$.attributes()</code> method for setting multiple attributes at once:</p>

	<pre><code>element._.style({
	"width": 0, 
	"padding": 0
})._.attributes({
	"hidden": "", 
	"class": "foo"
});</code></pre>		

	<p>This is better and more readable, but still a bit awkward. Turns out there is a special <a href="#$.set"><code>$.set()</code></a> method to do both at once:</p>

	<pre><code>element._.set({
	attributes: {
		"hidden": "",
		"class": "foo"
	},
	style: {
		"width": 0,
		"padding": 0
	}
});</code></pre>

	<p>Because <code>$.attributes()</code> and <code>$.style()</code> are also available for <code>$.set()</code> parameters, they will have the special <a class="tag set">$.set()</a> tag in these docs.</p>

	<p>Note that you don’t actually need <code>attributes: {…}</code> in <code>$.set()</code> at all: if there are any unrecognized properties in the parameter object, Bliss will first check if there is a property with that name on the element and if not, set an attribute. So you could rewrite the example above as:</p>

	<pre><code>element._.set({
	"hidden": "",
	"class": "foo", // or "className": "foo" to use the property
	style: {
		"width": 0,
		"padding": 0
	}
});</code></pre>
</section>

<section id="methods">
	<h1>DOM</h1>

	<p><strong>Note:</strong> The <code>$</code> is just an alias to <code>Bliss</code>. If another library that uses <code>$</code> is included before Bliss, then Bliss will not use <code>$</code>. You can always alias <code>$</code> to <code>Bliss</code> manually, by putting this before any of your code (but after including Bliss):</p>

	<pre><code>self.$ = Bliss;</code></pre>

	<p>Similarly, <code>$$()</code> is an alias to Bliss’ <code>$.$()</code> or <code>Bliss.$()</code> function. If it’s already defined by the time Bliss is called, Bliss will not use it. You can do so manually with this line:</p>

	<pre><code>self.$$ = Bliss.$;</code></pre>

	<p>When writing Bliss plugins, if you want to use <code>$()</code> and <code>$$()</code> it’s good practice to make local variables with them, in case they’re not available:</p>

	<pre><code>(function($, $$){
	// Plugin code here
})(Bliss, Bliss.$)</code></pre>

	<article>
		<h1 class="transform-ignore">$()</h1>

		<p class="description">Select an element by selector. Mainly a shortcut for <code>element.querySelector()</code>.</p>

		<pre><code>var element = $(selector [, context])</code></pre>

		<dl class="args">
			<dt class="string">selector</dt>
			<dd>The CSS selector to use.</dd>

			<dt class="element">context</dt>
			<dd>Returned element needs to be a descendant of this element. <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3Ascope"><code>:scope</code></a> inside <code>selector</code> refers to this element (for supporting browsers).</dd>

			<dt class="element">element</dt>
			<dd>The matched element or <code>null</code> if none found.</dd>
		</dl>

		<pre class="examples"><code>// return the first element with a class of .foo
// that is inside the first element with a class of .bar
var ret = $(".foo", $(".bar"));</code></pre>

<pre><code>// Return the first element with a class of .foo
// that is inside any element with a class of .bar
var ret = $(".bar .foo");</code></pre>

<pre><code>// Get the first element with a class of .foo
// and set its title attribute to "yolo"
// If there is no such element, this will throw an exception!
$(".foo").setAttribute("title", "yolo");</code></pre>

		<ul class="notes">
			<li>If the element is not found, it will return <code>null</code>. This could cause an exception if methods are called on the result.</li>
		</ul>

		<a href="http://api.jquery.com/jQuery/#jQuery1" class="jq">$</a>
	</article>

	<article>
		<h1 class="transform-ignore">$$()</h1>

		<p class="description">Get all elements that match a given selector as an array. Similar to <code>element.querySelectorAll()</code> but returns an Array instead of a NodeList, so it has all of the convenience methods we’ve come to love on arrays.</p>

		<pre><code>var array = $$(selector [, context])</code></pre>

		<dl class="args">
			<dt class="string">selector</dt>
			<dd>The CSS selector to use.</dd>

			<dt class="element">context</dt>
			<dd>Returned elements need to be a descendants of this element. <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3Ascope"><code>:scope</code></a> inside <code>selector</code> refers to this element (for supporting browsers).</dd>

			<dt class="array">array</dt>
			<dd>The matched elements as an array.</dd>
		</dl>

		<pre class="def"><code>var array = $$(collection)</code></pre>

		<dl class="args">
			<dt>collection</dt>
			<dd class="type">Type: Array-like</dd>
			<dd>Any array-like object, such as a NodeList, a function’s <code>arguments</code> object or an elements <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes"><code>element.attributes</code></a> collection.</dd>

			<dt class="array">array</dt>
			<dd>The collection converted to an array.</dd>
		</dl>
		
		<pre class="examples"><code>// Add an id to all &lt;h1> headings that don’t already have one
$$("h1:not([id])").forEach(function(h1){
	h1.id = h1.textContent.replace(/\W/g, "");
});</code></pre>
		<pre><code>// Get an array with all ids on the page
var ids = $$("[id]").map(function(element){
	return element.id;
});</code></pre>
		<pre><code>// Get all of an element’s attributes starting with data-bliss-
$$(element.attributes).filter(function(attribute){
	return attribute.name.indexOf("data-bliss-") === 0;
}).map(function(attribute){
	return attribute.name;
});</code></pre>
	</article>

	<article>
		<h1>create</h1>

		<p class="description">Create an element or text node.</p>

		<pre><code>var element = $.create([tag,] options);</code></pre>

		<dl class="args">
			<dt class="string">tag</dt>
			<dd>The tag name of the element to create.</dd>

			<dt class="object">options</dt>
			<dd>An object with several options for the new element (properties, attributes, events etc). For details about what options this object accepts, see <code>$.set()</code>. If <code>tagName</code> is omitted, you need to provide it in the <code>options</code> object.</dd>

			<dt class="element">element</dt>
			<dd>The newly created element.</dd>
		</dl>

		<pre class="def"><code>var textNode = $.create(text);</code></pre>

		<dl class="args">
			<dt class="string">text</dt>
			<dd>The text for the text node.</dd>

			<dt class="text">textNode</dt>
			<dd>The text node</dd>
		</dl>

		<pre><code>$.create("ul", {
	className: "nav",
	contents: [
		"Navigation: ",
		{tag: "li",
		 contents: {tag: "a",
		 	href: "index.html",
		 	textContent: "Home"
		 }
		},
		{tag: "li",
		 contents: {tag: "a",
			href: "contact.html",
			textContent: "Contact",
			target: "_blank"
		}}
	]
});</code></pre>

		<ul class="notes">
			<li>If you’re only creating an element without setting any options on it, just use the native <code>document.createElement(tag)</code></li>
			<li><code>$.create(tag, options)</code> is equivalent to:
			<pre><code>$.set(document.createElement(tag), options)</code></pre> This is also the recommended syntax if you need a different <code>document</code> than the current one.</li>
			<li>The text node syntax is mainly useful for inside <code>$.contents()</code>. Otherwise, just use the native <code>document.createTextNode(text)</code> or the newer and more elegant <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text/Text"><code>new Text(text)</code></a>.</li>
		</ul>
	</article>

	<article>
		<h1 class="element array">set</h1>

		<p class="description">Set multiple traits of an element (properties, attributes, events, contents etc). One of the most useful functions in Bliss.</p>

		<pre><code>subject = $.set(subject, options);</code></pre>
		<pre><code>subject = subject._.set(options);</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element to apply the options on.</dd>
			<dt class="object">options</dt>
			<dd>An object with various options, including:
				<dl>
					<dt>*</dt>
					<dd>Any remaining properties will be added as properties or attributes on the element (Bliss first checks if there is a property with that name, and if not, it sets it as an attribute.</dd>
				</dl>
			</dd>
		</dl>

		<pre><code>$.set(document.createElement("nav"), {
	style: {
		color: "red"
	},
	events: {
		click: function(evt) {
			console.log("YOLO");
		}
	}
	contents: ["Navigation: ", {tag: "ul",
		className: "buttons",
		delegate: {
			click: {
				li: function() {
					console.log("A list item was clicked")
				}
			}
		},
		contents: [{tag: "li",
				contents: {tag: "a"
					href: "index.html",
					textContent: "Home"
				}
			}, {tag: "li",
				contents: {tag: "a"
					href: "docs.html",
					textContent: "Docs"
				}
			}
		]
	}],
	inside: $("body > header")
});</code></pre>

		<ul class="notes">
			<li><strong>Tip:</strong> Add more specially handled properties of your own by just adding a function to <code>$.setProps</code>.</li>
			<li><strong>Warning:</strong> If setting SVG attributes, use the explicit <code>attributes</code> property, not just properties directly on <code>options</code>. Otherwise, they will be added as properties, and the API for SVG DOM properties is the stuff of nightmares.</li>
		</ul>
	</article>

	<article>
		<h1 class="element array set">contents</h1>
		
		<p class="description">Append existing or newly created element(s) and text nodes to an element.</p>

		<pre><code>subject = $.contents(subject, elements)</code></pre>
		<pre><code>subject = subject._.contents(elements)</code></pre>
		<pre><code>subject = subject._.set({contents: elements})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to apply the CSS properties to.</dd>

			<dt class="object array string node">elements</dt>
			<dd>If it’s an object or string, it will be passed through <code>$.create()</code>, to be converted into an element or text node respectively. If it’s an array, the same will happen to its elements. If it’s a <code>Node</code> it will be used as-is. Note that this lets you recursively create entire subtrees, since these objects can also have a <code>contents</code> property of their own, as seen in the example below.</dd>
		</dl>

		<pre><code>nav._.contents(["Navigation: ", {tag: "ul",
	className: "buttons",
	delegate: {
		click: {
			li: function() {
				console.log("A list item was clicked")
			}
		}
	},
	contents: [{tag: "li",
			contents: {tag: "a"
				href: "index.html",
				textContent: "Home"
			}
		}, {tag: "li",
			contents: {tag: "a"
				href: "docs.html",
				textContent: "Docs"
			}
		}
	]
}])</code></pre>

		<a class="jq">jQuery.fn.html</a>
	</article>

	<article class="full">
		<h1 class="element full">clone</h1>

		<p class="description">Clone an element including its descendants, with events.</p>

		<pre><code>var clone = $.clone(subject)</code></pre>
		<pre><code>var clone = subject._.clone()</code></pre>

		<dl class="args">
			<dt class="element">subject</dt>
			<dd>The element to be cloned.</dd>

			<dt class="element">clone</dt>
			<dd>The cloned element.</dd>
		</dl>

		<pre><code>var button = $("button");
button.addEventListener("click", function() { console.log("Click from listener!"); });
button.onclick = function() { console.log("Click from inline event!"); };
var button2 = button._.clone();
// If clicked, button2 will print both messages</code></pre>

		<ul class="notes">
			<li>If you don’t care about copying events, just use the native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode"><code>element.cloneNode()</code></a></li>
		</ul>

		<a class="jq">jQuery.fn.clone</a>
	</article>

	<article>
		<h1 class="element array">remove</h1>

		<p class="description">Remove an element from the DOM.</p>
		
		<pre><code>subject = $.remove(subject)</code></pre>
		<pre><code>subject = subject._.remove()</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element to remove.</dd>
		</dl>

		<pre><code>// Remove all divs
$$("div").remove();</code></pre>

		<ul class="notes">
			<li>Does not remove event listeners.</li>
		</ul>

		<a class="jq">jQuery.fn.detach</a>
	</article>

	<article>
		<h1 class="element array set">after</h1>

		<p class="description">Insert an element after another.</p>

		<pre><code>subject = $.after(subject, element)</code></pre>
		<pre><code>subject = subject._.after(element)</code></pre>
		<pre><code>subject = subject._.set({after: element})</code></pre>

		<dl class="args">
			<dt class="element">subject</dt>
			<dd>The element to be inserted.</dd>

			<dt class="element">element</dt>
			<dd>The element to insert after.</dd>
		</dl>

		<p class="needs example"></p>

		<a class="jq">jQuery.fn.after</a>
	</article>

	<article>
		<h1 class="element set">around</h1>

		<p class="description">Wrap an element around another.</p>

		<pre><code>subject = $.around(subject, element)</code></pre>
		<pre><code>subject = subject._.around(element)</code></pre>
		<pre><code>subject = subject._.set({around: element})</code></pre>

		<dl class="args">
			<dt class="element">subject</dt>
			<dd>The element to wrap with.</dd>

			<dt class="element">element</dt>
			<dd>The element to be wrapped.</dd>
		</dl>

		<pre><code>// Wrap headings with a link to their section
$$("section[id] > h1, article[id] > h1").forEach(function(h1){
	$.create("a", {
		href: "#" + h1.parentNode.id,
		around: h1
	});
});</code></pre>
		
		<a class="jq">jQuery.fn.wrap</a>
	</article>

	<article>
		<h1 class="element array set">attributes</h1>

		<p class="description">Set multiple attributes on one or more elements.</p>

		<pre><code>subject = $.attributes(subject, attrs)</code></pre>
		<pre><code>subject = subject._.attributes(attrs)</code></pre>
		<pre><code>subject = subject._.set({attributes: attrs})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to set the attributes on.</dd>

			<dt class="object">attrs</dt>
			<dd>An object with the attributes and values to set.</dd>
		</dl>

		<p class="needs example"></p>

		<ul class="notes">
			<li>If only setting one attribute on one element, consider using the native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute"><code>element.setAttribute(name, value)</code></a>. If setting one attribute on multiple elements, you can use <code>myArray._.setAttribute(name, value)</code>.</li>
		</ul>
	</article>

	<article>
		<h1 class="element array set">before</h1>

		<p class="description">Insert the element before another.</p>

		<pre><code>subject = $.before(subject, element)</code></pre>
		<pre><code>subject = subject._.before(element)</code></pre>
		<pre><code>subject = subject._.set({before: element})</code></pre>

		<dl class="args">
			<dt class="element">subject</dt>
			<dd>The element to be inserted.</dd>

			<dt class="element">element</dt>
			<dd>The element to insert before.</dd>
		</dl>

		<p class="needs examples"></p>

		<a class="jq">jQuery.fn.before</a>
	</article>

	<article>
		<h1 class="element array set">inside</h1>

		<p class="description">Insert the element inside another, after any existing contents.</p>

		<pre><code>subject = $.inside(subject, element)</code></pre>
		<pre><code>subject = subject._.inside(element)</code></pre>
		<pre><code>subject = subject._.set({inside: element})</code></pre>

		<ul class="notes">Mainly useful inside <code>$.set()</code>, otherwise just use the native <code>element.appendChild(subject)</code>.</ul>

		<a class="jq">jQuery.fn.append</a>
	</article>

	<article>
		<h1 class="element array set">properties</h1>

		<p class="description">Set a number of properties on an element.</p>

		<pre><code>subject = $.properties(subject, props)</code></pre>
		<pre><code>subject = subject._.properties(props)</code></pre>
		<pre><code>subject = subject._.set({properties: props})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to set the properties on.</dd>

			<dt class="object">props</dt>
			<dd>The properties to set on the element.</dd>
		</dl>

		<pre><code>document.createElement("button")._.properties({
	className: "continue",
	textContent: "Next Step",
	onclick: function() { MyApp.next() }
});</code></pre>

		<ul class="notes">
			<li>If only setting one property on one element, just use <code>element[property] = value;</code>. If setting multiple properties on one element, you can use <code>$.extend(subject, props)</code> instead.</li>
		</ul>

		<a class="jq">jQuery.fn.prop</a>
	</article>

	<article>
		<h1 class="element array set">start</h1>

		<p class="description">Insert an element inside another, before its existing contents.</p>

		<pre><code>subject = $.start(subject, element)</code></pre>
		<pre><code>subject = subject._.start(element)</code></pre>
		<pre><code>subject = subject._.set({start: element})</code></pre>

		<a class="jq">jQuery.fn.prepend</a>
	</article>

	<article>
		<h1 class="element array set">style</h1>
		
		<p class="description">Set multiple CSS properties on one or more elements.</p>

		<pre><code>subject = $.style(subject, properties)</code></pre>
		<pre><code>subject = subject._.style(properties)</code></pre>
		<pre><code>subject = subject._.set({style: properties})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to apply the CSS properties to.</dd>

			<dt class="object">properties</dt>
			<dd>The CSS properties to apply, in camelCase format</dd>
		</dl>

		<pre class="examples"><code>document.body._.style({
	color: "white",
	backgroundColor: "red",
	cssFloat: "left"
});</code></pre>

		<ul class="notes">
			<li>If only setting one property on one element, you don’t need this. Just use the native <code>element.style.propertyName = value;</code> syntax.</li>
		</ul>

		<a class="jq">jQuery.fn.css</a>
	</article>

	<article>
		<h1 class="element">transition</h1>
		
		<p class="description">Set multiple CSS properties with a transition and execute code after the transition is finished.</p>

		<pre><code>var promise = $.transition(subject, properties [, duration])</code></pre>
		<pre><code>var promise = subject._.transition(properties [, duration])</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to apply the transitions to.</dd>

			<dt class="object">properties</dt>
			<dd>The CSS properties to apply, in camelCase format</dd>

			<dt class="number">duration</dt>
			<dd>The duration, in milliseconds. Defaults to 400.</dd>

			<dt class="promise">promise</dt>
			<dd>Promise that gets resolved after the transition is done, or immediately <a href="http://caniuse.com/#feat=css-transitions">if CSS transitions are not supported</a>.</dd>
		</dl>

		<pre class="examples"><code>// Fade out an element then remove it from the DOM
$.transition(element, {opacity: 0}).then($.remove);</code></pre>
		<pre><code>// Fade out and shrink all &lt;div>s on a page,
// then remove them from the DOM
Promise.all($$("div")._.transition({
	opacity: 0,
	transform: "scale(0)"
})).then($.remove);</code></pre>

		<ul class="notes">
			<li>Uses CSS transitions, not custom interpolation code. In browsers that do not support CSS transitions, the style is applied immediately and the promise returned is resolved.</li>
			<li>The properties applied remain after the transition has ended.</li>
		</ul>

		<a class="jq">jQuery.fn.animate</a>
	</article>
</section>

<section>
	<h1>Events</h1>

	<article>
		<h1 class="element array set">delegate</h1>

		<p class="description">Helper for event delegation. Helps you register events for children at an ancestor, so that when you add children that match the provided selector, they also trigger the event.</p>

		<pre><code>subject = $.delegate(subject, type, selector, callback)</code></pre>
		<pre><code>subject = subject._.delegate(type, selector, callback)</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The delegation root. Only elements inside this will fire the event.</dd>

			<dt class="string">type</dt>
			<dd>The event type.</dd>

			<dt class="string">selector</dt>
			<dd>The selector the target of the event needs to match.</dd>
		</dl>

		<pre class="def"><code>subject = $.delegate(subject, type, selectorsToCallbacks)</code></pre>
		<pre class="def"><code>subject = subject._.delegate(type, selectorsToCallbacks)</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The delegation root. Only elements inside this will fire the event.</dd>

			<dt class="string">type</dt>
			<dd>The event type.</dd>

			<dt class="object">selectorsToCallbacks</dt>
			<dd>An object of the form <code>{selector1: callback1, …, selectorN: callbackN}</code>.</dd>
		</dl>

		<pre class="def"><code>subject = $.delegate(subject, typesToSelectorsToCallbacks)</code></pre>
		<pre class="def"><code>subject = subject._.delegate(typesToSelectorsToCallbacks)</code></pre>
		<pre class="def"><code>subject = subject._.set({delegate: typesToSelectorsToCallbacks})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The delegation root. Only elements inside this will fire the event.</dd>

			<dt class="string">type</dt>
			<dd>The event type.</dd>

			<dt class="object">typesToSelectorsToCallbacks</dt>
			<dd>An object of the form <pre><code>{
	type1: {selector11: callback11, …, selector1N: callback1N},
	…
	typeM: {selectorM1: callbackM1, …, selectorMK: callbackMK}
}</code></pre>.</dd>
		</dl>

		<a class="jq">jQuery.fn.delegate</a>
	</article>

	<article>
		<h1 class="element array set">events</h1>
		
		<p class="description">Set multiple event listeners on an element.</p>

		<pre><code>subject = $.events(subject, handlers)</code></pre>
		<pre><code>subject = subject._.events(handlers)</code></pre>
		<pre><code>subject = subject = subject._.set({events: handlers})</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to set the event listeners on.</dd>

			<dt class="object element">handlers</dt>
			<dd>If object: An object whose keys are the events and the values the listeners. You can include multiple event types by space-separating them. If it’s an element, all its event listeners are copied from it to <code>subject</code>.</dd>
		</dl>

		<pre><code>$$('input[type="range"]')._.events({
	"oninput onchange": function(evt) { this.title = this.value}
})</code></pre>

		<ul class="notes">
			<li>If only setting one event listener, just use the native <code>element.addEventListener(type, handler, useCapture)</code> syntax. If setting one event listener on multiple elements, you can use <code>array._.addEventListener</code>, like so:
			<pre><code>$$("input")._.addEventListener("input", function(){ /* ... */);</code></pre>
			</li>
		</ul>

		<a class="jq">jQuery.fn.bind</a>
	</article>

	<article>
		<h1 class="element array">fire</h1>
		
		<p class="description">Fire a synthesized event.</p>

		<pre><code>subject = $.fire(subject, type [, properties])</code></pre>
		<pre><code>subject = subject._.fire(type [, properties])</code></pre>

		<dl class="args">
			<dt class="element array">subject</dt>
			<dd>The element(s) to fire the synthesized event on.</dd>
			
			<dt class="string">type</dt>
			<dd>The event type</dd>

			<dt class="object">properties</dt>
			<dd>If provided, these properties will be added to the event object.</dd>
		</dl>

		<pre class="examples"><code>// Fire a custom event on a map widget
myMap._.fire("locationchange", {
	location: [42.361667, -71.092751]
});</code></pre>
		
		<pre><code>// Fire a fake input event
myInput._.fire("input");</code></pre>

		<ul class="notes">
			<li>If you are writing a library meant to be run on websites you don’t control, it is recommended that you namespace your events by adding the library name before them, like <code>"mylibrary.locationchange"</code> or <code>"mylibrary:locationchange"</code>, to avoid collisions.</li>
		</ul>

		<a class="jq">jQuery.fn.trigger</a>
	</article>


	<article>
		<h1>ready</h1>
		
		<p class="description">Execute code after the DOM is ready.</p>

		<pre><code>var promise = $.ready([context])</code></pre>

		<dl class="args">
			<dt class="document">context</dt>
			<dd>The document whose …readiness we’re interested in.</dd>
			
			<dt class="promise">promise</dt>
			<dd>A promise that gets resolved immediately if the DOM is already ready, or on <code>DOMContentLoaded</code> if not.</dd>
		</dl>

		<pre class="examples"><code>// Add a red border to all divs on a page
$.ready().then(function(){
	$$("div")._.style("border", "1px solid red");
});</code></pre>

		<a class="jq">jQuery.fn.ready</a>
	</article>
</section>

<section>
	<h1>Objects</h1>

	<article>
		<h1>Class</h1>

		<p class="description">Helper for defining OOP-like “classes”, for those who have been irreparably damaged by Java-like languages.</p>

		<pre><code>var myClass = $.Class(options);</code></pre>

		<dl class="args">
			<dt class="object">options</dt>
			<dd>An object with the following options:
				<dl class="options">
					<dt class="function">constructor</dt>
					<dd>The constructor.</dd>

					<dt class="function">extends</dt>
					<dd>The “class” it inherits from.</dd>

					<dt class="boolean">abstract</dt>
					<dd>If <code>true</code>, “classes” can inherit from it, but it will throw an error if called with the <code>new</code> operator directly. Sorry Java folks, I know this is not what you hoped for.</dd>

					<dt class="object">lazy</dt>
					<dd>Lazily evaluated properties. See <code>$.lazy()</code>.</dd>

					<dt class="object">live</dt>
					<dd>See <code>$.live()</code>.</dd>

					<dt class="object">static</dt>
					<dd>Any static methods, as a shortcut to <code>$.extend(myClass, static)</code></dd>

					<dt>*</dt>
					<dd>Any remaining properties will be added on <code>myClass.prototype</code> as instance methods.</dd>
				</dl>
			</dd>
		</dl>

		<ul class="notes">
			<li>To enable more properties with “special” handling, like <code>lazy</code> and <code>live</code>, add them to the <code>$.classProps</code> object.</li>
		</ul>
	</article>

	<article>
		<h1>extend</h1>

		<p class="description">Copy properties of an object onto another.</p>

		<pre><code>target = $.extend(target, source [, whitelist])</code></pre>

		<dl class="args">
			<dt class="object">target</dt>
			<dd>The object that will receive the new properties.</dd>

			<dt class="object">source</dt>
			<dd>An object containing the additional properties to merge in.</dd>

			<dt class="array string function regExp">whitelist</dt>
			<dd>If array, a whitelist of property names. If function, it is called on each property and only the properties it returns a truthy value on will be copied. If it’s a reguar expression, only matching property names will be copied. If it’s the string <code>"own"</code>, inherited properties will not be copied. Other strings are reserved for future use.</dd>
		</dl>
		
		<pre><code>var o1 = {foo: 1, bar:2}
o2 = $.extend(o1, {foo: 3, baz: 4});
// o2 is {foo: 3, bar: 2, baz: 4}</code></pre>
		<pre><code>// Get typography-related computed style on &lt;body>
var type = $.extend({},
                    getComputedStyle(document.body),
                    /^font|^lineHeight$/);</code></pre>
		
		<ul class="notes">
			<li>Overwrites are allowed.</li>
			<li>Inherited properties are included (i.e. <code>Object.hasOwnProperty()</code> is not used), unless <code>whitelist</code> is <code>"own"</code>.</li>
			<li>It modifies <code>target</code>, it doesn’t create a new object.</li>
			<li>If <code>source</code> contains accessors <a href="http://lea.verou.me/2015/08/copying-properties-the-robust-way">it copies the accessors not the result of running the getter</a>. This is unlike similar functions in other libraries or the native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"><code>Object.assign()</code></a> in ES6.</li>
		</ul>

		<a class="jq">jQuery.extend</a>
	</article>

	<article>
		<h1>lazy</h1>

		<p class="description">Define lazily evaluated properties on an object.</p>

		<pre><code>object = $.lazy(object, property, getter)</code></pre>

		<dl class="args">
			<dt class="object">object</dt>
			<dd>The object to define the property on.</dd>

			<dt class="string">property</dt>
			<dd>The name of the property to define.</dd>

			<dt class="function">getter</dt>
			<dd>A function that returns the value of the property. After the first time the property is used, it will be replaced with the return value of this function.</dd>
		</dl>

		<pre class="def"><code>object = $.lazy(object, properties)</code></pre>

		<dl class="args">
			<dt class="object">object</dt>
			<dd>The object to define the properties on.</dd>

			<dt class="object">properties</dt>
			<dd>An object where the keys are the property names and the values are the getters.</dd>
		</dl>
	</article>

	<article>
		<h1>live</h1>

		<p class="description">Define properties that behave like normal properties but also execute code upon getting/setting.</p>

		<pre><code>object = $.live(object, property, descriptor)</code></pre>

		<dl class="args">
			<dt class="object">object</dt>
			<dd>The object to define the property on.</dd>

			<dt class="string">property</dt>
			<dd>The name of the property to define.</dd>

			<dt class="object">descriptor</dt>
			<dd>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#Description">accessor descriptor</a> of the property.</dd>
		</dl>

		<pre class="def"><code>$.live(object, properties)</code></pre>

		<dl class="args">
			<dt class="object">object</dt>
			<dd>The object to define the properties on.</dd>

			<dt class="object">properties</dt>
			<dd>An object where the keys are the property names and the values are the descriptors.</dd>
		</dl>
	</article>

	<article>
		<h1>type</h1>

		<p class="description">Determine the internal JavaScript [[Class]] of an object.</p>

		<pre><code>var type = $.type(object)</code></pre>

		<dl class="args">
			<dt class="object">object</dt>
			<dd>The object whose [[Class]] we want to get.</dd>

			<dt class="string">type</dt>
			<dd>The internal [[Class]] of the object, lowercased.</dd>
		</dl>

		<pre><code>// Check if the second argument of a function is a regexp
if ($.type(arguments[1]) == "regexp") {
	// ...
}</code></pre>

		<a class="jq">jQuery.type</a>
	</article>
</section>

<section>
	<h1>Async</h1>

	<article>
		<h1>fetch</h1>

		<p class="description">Helper for AJAX calls, inspired by the new <a href="https://fetch.spec.whatwg.org" target="_blank">Fetch API</a>.</p>

		<pre><code>var promise = $.fetch(url, options)</code></pre>

		<dl class="args">
			<dt class="string">url</dt>
			<dd>The URL to which the request is sent.</dd>

			<dt class="object">options</dt>
			<dd>An object with options, including:
				<dl class="options">
					<dt class="string">method</dt>
					<dd>The HTTP method, such as <code>"GET"</code> or <code>"POST"</code>.</dd>

					<dt class="string object">data</dt>
					<dd>Any data to send, as a URLencoded parameter string (e.g. <code>"foo=b%20ar&amp;baz=yolo"</code>) or an object of key-value pairs.</dd>

					<dt class="object">headers</dt>
					<dd>Object with any extra headers to set.</dd>

					<dt>*</dt>
					<dd>Any remaining properties will be set on the <code>XMLHttpObject</code> directly.</dd>
				</dl>
			</dd>

			<dt class="promise">promise</dt>
			<dd>A promise that is resolved when the resource is successfully fetched and rejected if there is any error.</dd>
		</dl>

		<pre><code>$.fetch("/api/create", {
	method: "POST",
	responseType: "json"
}).then(function(){
	alert("success!");
}).catch(function(error){
	console.error(error);
});</code></pre>
	
		<a class="jq">jQuery.ajax</a>
	</article>

	<article>
		<h1>include</h1>

		<p class="description">Include a script file conditionally and run code after it has loaded.</p>

		<pre><code>var promise = $.include([condition,] url)</code></pre>

		<dl class="args">
			<dt class="string">condition</dt>
			<dd>Optional condition. If true, it means the script is already loaded and nothing will happen.</dd>

			<dt class="string">url</dt>
			<dd>URL of the script to load.</dd>

			<dt class="promise">promise</dt>
			<dd>A promise that gets resolved when the script has loaded.</dd>
		</dl>
		
		<pre><code>// Load ES5-shim if needed
var url = "https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.3.1/es5-sham.min.js";
$.include(Array.prototype.forEach, url).then(function(){
	$$("div").forEach(function(){
		// some code here
	});
});</code></pre>
		<pre><code>// Load dropbox.js from a CDN if it’s not already loaded and run some code that uses it
var url = "https://cdnjs.cloudflare.com/ajax/libs/dropbox.js/0.10.2/dropbox.min.js";
$.include(self.Dropbox, url).then(function(){
	var client = new Dropbox.Client({ key: key });
	// ...
});</code></pre>

		<a class="jq">jQuery.getScript</a>
	</article>
</section>

<section>
	<h1>Extensibility</h1>

	<article>
		<h1>add</h1>
		<p class="description">Register new blissful methods that operate on elements and/or arrays. They will be automatically added on Bliss’ element and array property (if on Bliss Full), as well as directly on Bliss itself.</p>

		<pre><code>$.add(name, callback [, on])</code></pre>

		<dl class="args">
			<dt class="string">name</dt>
			<dd>The function name.</dd>

			<dt class="function">callback</dt>
			<dd>A function which operates on a single element, as its context (the <code>this</code> keyword). <code>$.add()</code> will take care of the syntactic variations and array handling.</dd>

			<dt class="object">on</dt>
			<dd>What the function should be added on. The available keys are: <code>$</code>, <code>element</code>, <code>array</code> and their values are <code>true</code> by default so only set them if you want to set them to <code>false</code>.</dd>
		</dl>

		<pre class="def"><code>$.add(callbacks [, on])</code></pre>
		
		<dl class="args">
			<dt class="object">callbacks</dt>
			<dd>Multiple functions, as an object where the keys are the function names (see above) and the values are the callbacks (see above).</dd>

			<dt class="object">on</dt>
			<dd>Same as above.</dd>
		</dl>
	</article>
</section>

<section>
	<h1>Configuration</h1>

	<p>Bliss comes in two flavors: Bliss Full and Bliss Shy. Bliss Shy is slightly smaller, does not add any globals beyond <code>Bliss</code>, does not add its property to elements and arrays and does not wrap <code>addEventListener</code> and <code>removeEventListener</code>. Bliss Shy is recommended for inclusion in third-party libraries, whereas Bliss Full is recommended for cases where you control the host environment and care more about convenience than unobtrusiveness. This is a download option, but it can also be a runtime option, if you have downloaded Bliss Full. Just run this, before Bliss is included:</p>

		<pre><code class="language-markup">&lt;script>self.Bliss = { shy: true };&lt;/script>
&lt;script src="bliss.js">&lt;/script></code></pre>

	<p>If you’re running Bliss Full, but want to change the property name from <code>_</code> to something else, you can also do this via the <code>property</code> configuration option. For example, to change the property name to <code>yolo</code>:</p>

	<pre><code class="language-markup">&lt;script>self.Bliss = { property: "yolo" };&lt;/script>
&lt;script src="bliss.js">&lt;/script></code></pre>

	<p>As of now, these are the only configuration options, but there might be more in the future.</p>
</section>

<!-- HTML transformations! Like the idea? Check out transform.js and let me know if I should release it :) -->
<template data-start="article > h1">$.</template>
<template data-end="article > h1">()</template>

<!-- Add tags -->
<template data-end="article > h1.element"> <span class="tag element" title="Available on element._">Element</span> </template>
<template data-end="article > h1.array"> <span class="tag array" title="Available on array._">Array</span> </template>
<template data-end="article > h1.set"> <span class="tag set" title="Available inside $.set()">$.set()</span> </template>
<template data-end="article > h1.full"> <span class="tag full" title="Not available in Bliss Shy">Bliss Full</span> </template>

<!-- Add headings -->
<template data-before=".args + pre:not(.def)"><h2>Example(s)</h2></template>
<template data-before=".args"><h2>Arguments & Return value</h2></template>
<template data-before=".notes"><h2>Notes and caveats</h2></template>

<!-- Make all external links open in a new window -->
<template data-attr="a[href^='http://'], a[href^='https://']"><content target="_blank"></content></template>

<!-- Add jQuery-like reference -->
<template data-around=".jq">
	<p><strong>Similar jQuery method: </strong> <content target="_blank"></content></p>
</template>


<footer>
	By <a href="http://lea.verou.me">Lea Verou</a> &bull; <a href="http://lea.verou.me/2015/12/introducing-bliss-a-3kb-library-for-happier-vanilla-js/">Blog post</a>

	<a href="https://github.com/LeaVerou/bliss" class="github-ribbon">Fork me on GitHub</a>

	<a href="https://twitter.com/blissfuljs" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @blissfuljs</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</footer>

<script src="bliss.js"></script>
<script src="transform.js"></script>
<script src="index.js"></script>
<script src="style/prism.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71026615-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
